{% extends "base.html" %}
{% block content %}
<h1>Add Service Log</h1>
<div class="card"><form method="POST">
<div class="form-row">
<div class="form-group"><label>Equipment *</label><select name="equipment_id" required>
<option value="">Select equipment...</option>
{% for e in equipment %}<option value="{{ e.id }}">{{ e.equipment_id }} - {{ e.name }}</option>{% endfor %}
</select></div>
<div class="form-group"><label>Technician *</label><select name="technician_id" required>
<option value="">Select technician...</option>
{% for t in technicians %}<option value="{{ t.id }}">{{ t.name }} ({{ t.certification_type }})</option>{% endfor %}
</select></div>
</div>
<div class="form-row">
<div class="form-group"><label>Service Date *</label><input type="date" name="service_date" required></div>
<div class="form-group"><label>Service Type *</label><select name="service_type" required>
<option value="Repair">Repair</option><option value="Maintenance">Maintenance</option>
<option value="Installation">Installation</option><option value="Disposal">Disposal</option>
</select></div>
</div>
<div class="form-row">
<div class="form-group"><label>Refrigerant Added (lbs)</label><input type="number" step="0.1" name="refrigerant_added" value="0"></div>
<div class="form-group"><label>Refrigerant Recovered (lbs)</label><input type="number" step="0.1" name="refrigerant_recovered" value="0"></div>
</div>
<div class="form-group"><label>Work Performed</label><textarea name="work_performed"></textarea></div>
<div class="form-group"><label><input type="checkbox" name="leak_found"> Leak Found</label></div>
<div class="form-group"><label><input type="checkbox" name="leak_repaired"> Leak Repaired</label></div>
<div class="form-group"><label>Leak Location</label><input type="text" name="leak_location"></div>
<div class="mt-3">
<button type="submit" class="btn btn-primary">Save Log</button>
<a href="{{ url_for('service_log_list') }}" class="btn btn-secondary">Cancel</a>
</div>
</form></div>
{% endblock %}